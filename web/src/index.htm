<!DOCTYPE html>
<html>
  <head>
    <title>STORINATOR Switch</title>
    <!-- TODO icon -->
    <link rel="icon" type="image/png" href="power.png" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="heading">STORINATOR</div>

    <button
      id="powerBtn"
      type="button"
      class="activeButton"
      onclick="RequestMachine('powerOn')"
    >
      POWER ON
    </button>
    <button
      id="standByBtn"
      type="button"
      class="activeButton"
      onclick="RequestMachine('standBy')"
    >
      STANDBY
    </button>
    <button
      id="resetBtn"
      type="button"
      class="activeButton"
      onclick="RequestMachine('reset')"
    >
      RESET
    </button>
    <button id="hddBtn" type="button">HDD</button>

    <script>
      function RequestMachine(type) {
        if (!confirm(type.toUpperCase())) return

        var xhttp = new XMLHttpRequest()
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            alert('Action confirmed.')
            console.log(this.responseText)
          }
        }
        xhttp.open('GET', type, true)
        xhttp.send()
      }
    </script>
  </body>
</html>
